(function(e){function t(t){for(var n,i,o=t[0],c=t[1],u=t[2],d=0,p=[];d<o.length;d++)i=o[d],a[i]&&p.push(a[i][0]),a[i]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);l&&l(t);while(p.length)p.shift()();return s.push.apply(s,u||[]),r()}function r(){for(var e,t=0;t<s.length;t++){for(var r=s[t],n=!0,o=1;o<r.length;o++){var c=r[o];0!==a[c]&&(n=!1)}n&&(s.splice(t--,1),e=i(i.s=r[0]))}return e}var n={},a={app:0},s=[];function i(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=e,i.c=n,i.d=function(e,t,r){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(r,n,function(t){return e[t]}.bind(null,n));return r},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var u=0;u<o.length;u++)t(o[u]);var l=c;s.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"03ed":function(e,t,r){"use strict";var n=r("9f35"),a=r.n(n);a.a},"0528":function(e,t,r){},"095b":function(e,t,r){"use strict";var n=r("d3d1"),a=r.n(n);a.a},"0eac":function(e,t,r){"use strict";var n=r("8ea5"),a=r.n(n);a.a},"0f3e":function(e,t,r){},1:function(e,t){},"18bb":function(e,t,r){"use strict";var n=r("fa0d"),a=r.n(n);a.a},"1bdf":function(e,t,r){e.exports=r.p+"img/Joni.11bf7cd5.jpg"},"20bf":function(e,t,r){},"264b":function(e,t,r){"use strict";var n=r("3f6d"),a=r.n(n);a.a},"2c66":function(e,t,r){},"2d53":function(e,t,r){"use strict";var n=r("6d43"),a=r.n(n);a.a},3122:function(e,t,r){"use strict";var n=r("fcac"),a=r.n(n);a.a},3973:function(e,t,r){},"3f6d":function(e,t,r){},"413a6":function(e,t,r){},4678:function(e,t,r){var n={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-SG":"cdab","./en-SG.js":"cdab","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-nz":"6f50","./en-nz.js":"6f50","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-tw":"90ea","./zh-tw.js":"90ea"};function a(e){var t=s(e);return r(t)}function s(e){var t=n[e];if(!(t+1)){var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}return t}a.keys=function(){return Object.keys(n)},a.resolve=s,e.exports=a,a.id="4678"},4736:function(e,t,r){e.exports=r.p+"img/loader.4393e17b.svg"},"4a00":function(e,t,r){},"4d5d":function(e,t,r){"use strict";var n=r("fcab"),a=r.n(n);a.a},"4f9e":function(e,t,r){"use strict";var n=r("0f3e"),a=r.n(n);a.a},"53f7":function(e,t,r){"use strict";var n=r("6825"),a=r.n(n);a.a},"56d7":function(e,t,r){"use strict";r.r(t);r("cadf"),r("551c"),r("f751"),r("097d");var n=r("2b0e"),a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("eventera-header"),n("router-view"),n("notifications",{staticClass:"notfications",attrs:{group:"alerts",position:"bottom right"}}),e.isLoading?n("section",{staticClass:"loading-container",class:e.loaderClass},[n("img",{attrs:{src:r("4736")}})]):e._e()],1)},s=[],i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("header",{staticClass:"app-header",class:e.mainClass},[n("VueResize",{attrs:{ranges:e.rangesForHamburger},on:{resize:e.handleResizeEvent}}),n("div",{staticClass:"header flex flex-center space-between"},[n("div",{staticClass:"logo-container",on:{click:e.goToHome}},[n("img",{staticClass:"logo-icon",attrs:{src:r("d063")}})]),n("div",{staticClass:"mobile-container",class:{open:e.isOpen}},[n("nav",{staticClass:"nav-container flex flex-center space-between",class:e.mainClass},[n("router-link",{staticClass:"router-categories",attrs:{to:"/eventera"},nativeOn:{click:function(t){return e.routeChange(t)}}},[e._v("Explore")]),n("router-link",{staticClass:"router-categories",attrs:{to:"/eventera/edit"},nativeOn:{click:function(t){return e.routeChange(t)}}},[e._v("Plan event")]),n("router-link",{staticClass:"router-about",attrs:{to:"/about"},nativeOn:{click:function(t){return e.routeChange(t)}}},[e._v("About")]),e.loggedUser&&e.loggedUser._id?n("div",{staticClass:"user-greeting"},[n("loggedUser",{on:{logout:e.logout}})],1):n("div",{staticClass:"user-action"},[n("button",{staticClass:"router-login",on:{click:e.showLoginForm}},[e._v("Login")]),n("button",{staticClass:"router-signup",on:{click:e.showSignupForm}},[e._v("Sign up")])])],1)]),n("div",{staticClass:"hamb-container",class:{nav:e.isSpanX},on:{click:function(t){return e.toggleNav()}}},[n("div",{staticClass:"bar1"}),n("div",{staticClass:"bar2"}),n("div",{staticClass:"bar3"})])]),e.isLoginForm||e.isSignupForm?n("VueModal",{on:{close:e.hideForms},nativeOn:{click:function(t){return e.hideForms(t)}}},[e.isSignupForm?n("h1",{attrs:{slot:"header"},slot:"header"},[e._v("Signup")]):n("h1",{attrs:{slot:"header"},slot:"header"},[e._v("Login")]),n("div",{attrs:{slot:"body"},slot:"body"},[e.isSignupForm?n("form",{on:{submit:function(t){return t.preventDefault(),e.signup(t)}}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.formInput.username,expression:"formInput.username"}],attrs:{type:"username",required:"",autocomplete:"",placeholder:"Username"},domProps:{value:e.formInput.username},on:{input:function(t){t.target.composing||e.$set(e.formInput,"username",t.target.value)}}}),n("input",{directives:[{name:"model",rawName:"v-model",value:e.formInput.password,expression:"formInput.password"}],attrs:{type:"password",required:"",autocomplete:"",placeholder:"Password"},domProps:{value:e.formInput.password},on:{input:function(t){t.target.composing||e.$set(e.formInput,"password",t.target.value)}}}),n("input",{directives:[{name:"model",rawName:"v-model",value:e.formInput.name,expression:"formInput.name"}],attrs:{type:"text",required:"",placeholder:"Full Name"},domProps:{value:e.formInput.name},on:{input:function(t){t.target.composing||e.$set(e.formInput,"name",t.target.value)}}}),n("div",{attrs:{slot:"footer"},slot:"footer"},[n("button",{staticClass:"btn-action"},[e._v("Sign up")])])]):n("form",{on:{submit:function(t){return t.preventDefault(),e.login(t)}}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.formInput.username,expression:"formInput.username"}],attrs:{type:"username",required:"",autocomplete:"",placeholder:"Username"},domProps:{value:e.formInput.username},on:{input:function(t){t.target.composing||e.$set(e.formInput,"username",t.target.value)}}}),n("input",{directives:[{name:"model",rawName:"v-model",value:e.formInput.password,expression:"formInput.password"}],attrs:{type:"password",required:"",autocomplete:"",placeholder:"Password"},domProps:{value:e.formInput.password},on:{input:function(t){t.target.composing||e.$set(e.formInput,"password",t.target.value)}}}),n("button",{staticClass:"btn-action"},[e._v("Login")])])]),n("div",{attrs:{slot:"footer"},slot:"footer"})]):e._e()],1)},o=[],c=(r("7f7f"),r("96cf"),r("3b8d")),u=(r("6762"),r("2fdb"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("transition",{attrs:{name:"modal"}},[r("div",{staticClass:"modal-mask"},[r("div",{staticClass:"modal-wrapper"},[r("div",{staticClass:"modal-container",on:{click:function(e){e.stopPropagation()}}},[r("div",{staticClass:"btn-quit",on:{click:function(t){return e.$emit("close")}}},[r("span",[e._v("X")])]),r("div",{staticClass:"modal-header"},[e._t("header",[e._v("default header")])],2),r("div",{ref:"modalBody",staticClass:"modal-body"},[e._t("body",[e._v("default body")])],2),r("div",{staticClass:"modal-footer"},[e._t("footer",[e._v("default footer")])],2)])]),r("div",{staticStyle:{display:"none"},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.$emit("close")}}})])])}),l=[];function d(e,t){n["default"].notify({group:"alerts",title:e,position:["right","bottom"],type:"success",text:t})}function p(e,t){n["default"].notify({group:"alerts",title:e,position:["right","bottom"],type:"warn",text:t})}function m(e,t){n["default"].notify({group:"alerts",title:e,position:["right","bottom"],type:"error",text:t})}var f={success:d,warn:p,err:m},v=new n["default"],g="success",h="warn",b="err",y="modal_login",w="modal_signup";v.$on(g,f.success),v.$on(h,f.warn),v.$on(b,f.err);var _=v,x={methods:{close:function(e){27===e.keyCode&&this.$emit("close")}},created:function(){document.addEventListener("keyup",this.close)},destroyed:function(){document.removeEventListener("keyup",this.close)},mounted:function(){var e=this;this.$nextTick(function(){var t=e.$refs.modalBody.querySelector("input");t&&t.focus()})}},C=x,j=(r("3122"),r("2877")),k=Object(j["a"])(C,u,l,!1,null,null,null),$=k.exports,U=r("2f62"),E=r("75fc"),L=(r("20d6"),"eventera"),O={query:I,getById:M,update:R,add:S,remove:P,join:B,leave:F,checkTime:N};function I(e){return ye.get(L,e)}function M(e){return ye.get("".concat(L,"/").concat(e))}function R(e){return ye.put("".concat(L,"/").concat(e._id),e)}function P(e){return ye.delete("".concat(L,"/").concat(e))}function S(e){return ye.post(L,e)}function B(e){return ye.put("".concat(L,"/join/").concat(e))}function F(e){return ye.put("".concat(L,"/leave/").concat(e))}function N(e){return ye.post("auth/checktime",{date:e})}r("ac6a"),r("5df3");var A="upload/cloudinary",T={uploadMedia:D};function D(e){return z.apply(this,arguments)}function z(){return z=Object(c["a"])(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(t.map(function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(t){var r,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=new FormData,r.append("imgUpload",t[0]),e.next=4,ye.post(A,r);case 4:return n=e.sent,e.abrupt("return",n.url);case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()));case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}},e)})),z.apply(this,arguments)}var G,q={state:{eventeras:[],newEventera:{name:name},filterBy:{txt:"",category:"General",almostFull:!1,startingAt:0,showClosed:!1},categories:["Sport","Music","Games","Self improvement","Hobbies"]},mutations:{saveEventera:function(e,t){var r=t.eventera,n=t._id;if(console.log(n),n){var a=e.eventeras.findIndex(function(e){return e._id===n});e.eventeras.splice(a,1,r)}else e.eventeras.push(r)},setEventeras:function(e,t){var r=t.eventeras;e.eventeras=r},setFilter:function(e,t){var r=t.filterBy;e.filterBy=r},setFilterCategory:function(e,t){e.filterBy.category=t,console.log("inside store:",e.filterBy.category)}},getters:{eventerasForDisplay:function(e){return e.eventeras},getNewEventera:function(e){return e.newEventera},eventerasByCategories:function(e){return e.eventeras?e.categories.map(function(t){var r={};r.category=t;var n=Object(E["a"])(e.eventeras.filter(function(e){return 0!==e.categories.filter(function(e){return e===t}).length}));return r.eventeras=n,r}):[]},categories:function(e){return e.categories},selectedCategory:function(e){return e.filterBy.category},filterBy:function(e){return e.filterBy}},actions:{saveEventera:function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(t,r){var n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(console.log(r),t.commit({type:"setLoading",isLoading:!0}),!r._id){e.next=9;break}return e.next=5,O.update(r);case 5:n=e.sent,t.dispatch({type:"updateNotification",eventera:n}),e.next=14;break;case 9:return r.createdAt=Date.now(),e.next=12,O.add(r);case 12:n=e.sent,t.dispatch({type:"addNotification",eventera:n});case 14:return t.commit({type:"saveEventera",eventera:n,_id:r._id}),t.commit({type:"setLoading",isLoading:!1}),e.abrupt("return",n);case 17:case"end":return e.stop()}},e)}));function t(t,r){return e.apply(this,arguments)}return t}(),loadEventeras:function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(t){var r,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t.commit({type:"setLoading",isLoading:!0}),r=t.state.filterBy,e.next=4,O.query(r);case 4:n=e.sent,t.commit({type:"setLoading",isLoading:!1}),t.commit({type:"setEventeras",eventeras:n}),t.commit({type:"resetAddedMap"});case 8:case"end":return e.stop()}},e)}));function t(t){return e.apply(this,arguments)}return t}(),getEventeraById:function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(t,r){var n,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=r._id,t.commit({type:"setLoading",isLoading:!0}),e.prev=2,e.next=5,O.getById(n);case 5:return a=e.sent,t.commit({type:"setLoading",isLoading:!1}),e.abrupt("return",a);case 10:e.prev=10,e.t0=e["catch"](2),t.commit({type:"setLoading",isLoading:!1}),console.log(e.t0);case 14:case"end":return e.stop()}},e,null,[[2,10]])}));function t(t,r){return e.apply(this,arguments)}return t}(),uploadToCloud:function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(t,r){var n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t.commit({type:"setLoading",isLoading:!0}),e.next=3,T.uploadMedia(r);case 3:return n=e.sent,t.commit({type:"setLoading",isLoading:!1}),e.abrupt("return",n);case 6:case"end":return e.stop()}},e)}));function t(t,r){return e.apply(this,arguments)}return t}(),setFilter:function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(t,r){var n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=r.filterBy,t.commit({type:"setLoading",isLoading:!0}),e.abrupt("return",t.commit({type:"setFilter",filterBy:n}));case 3:case"end":return e.stop()}},e)}));function t(t,r){return e.apply(this,arguments)}return t}(),joinEventera:function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(t,r){var n,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=r._id,e.prev=1,e.next=4,O.join(n);case 4:return a=e.sent,t.commit({type:"saveEventera",eventera:a,_id:n}),t.dispatch({type:"eventeraNotification",eventera:a,method:"join"}),e.abrupt("return",a);case 10:e.prev=10,e.t0=e["catch"](1),f.err("Failed to join","please try again later");case 13:case"end":return e.stop()}},e,null,[[1,10]])}));function t(t,r){return e.apply(this,arguments)}return t}(),leaveEventera:function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(t,r){var n,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=r._id,e.prev=1,e.next=4,O.leave(n);case 4:return a=e.sent,t.commit({type:"saveEventera",eventera:a,_id:n}),t.dispatch({type:"eventeraNotification",eventera:a,method:"leave"}),e.abrupt("return",a);case 10:e.prev=10,e.t0=e["catch"](1),f.err("Failed to leave","please try again later");case 13:case"end":return e.stop()}},e,null,[[1,10]])}));function t(t,r){return e.apply(this,arguments)}return t}(),checkTime:function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(t,r){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",O.checkTime(r));case 1:case"end":return e.stop()}},e)}));function t(t,r){return e.apply(this,arguments)}return t}()}},H={state:{loggedUser:null,currUser:null},getters:{loggedUser:function(e){return e.loggedUser},loc:function(e){return e.loggedUser.loc},currUser:function(e){return e.currUser}},mutations:{setLoggedUser:function(e,t){var r=t.user;e.loggedUser=r},setLocation:function(e,t){var r=t.loc;e.loggedUser.loc=r},setCurrUser:function(e,t){var r=t.user;e.currUser=r}},actions:{saveUserBasics:function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(t,r){var n,a,s,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=r.name,a=r.email,s=r.phone,e.prev=1,i=Object.assign({},t.getters.loggedUser),i.name=n,i.email=a,i.phone=s,e.next=8,xe.update(i);case 8:i=e.sent,t.commit({type:"setLoggedUser",user:i}),e.next=15;break;case 12:e.prev=12,e.t0=e["catch"](1),console.log("had problems saveUserBasics",e.t0);case 15:case"end":return e.stop()}},e,null,[[1,12]])}));function t(t,r){return e.apply(this,arguments)}return t}(),saveUserProfileImg:function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(t,r){var n,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=r.profileImgUrl,e.prev=1,console.log("saveUserProfileImg called got:",n),a=Object.assign({},t.getters.loggedUser),a.profileImgUrl=n,console.log(a),e.next=8,xe.update(a);case 8:a=e.sent,t.commit({type:"setLoggedUser",user:a}),e.next=15;break;case 12:e.prev=12,e.t0=e["catch"](1),console.log("had problems saveUserProfileImg    ",e.t0);case 15:case"end":return e.stop()}},e,null,[[1,12]])}));function t(t,r){return e.apply(this,arguments)}return t}(),loadLoggedUser:function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t.getters.loggedUser){e.next=11;break}return e.prev=1,e.next=4,xe.getLoggedUser();case 4:r=e.sent,r&&(t.commit({type:"setLoggedUser",user:r}),t.dispatch("socketInit")),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](1),console.log("had problems loadLoggedUser",e.t0);case 11:case"end":return e.stop()}},e,null,[[1,8]])}));function t(t){return e.apply(this,arguments)}return t}(),updateLocation:function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(t,r){var n,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=r.loc,t.commit({type:"setLocation",loc:n}),a=JSON.parse(JSON.stringify(t.getters.loggedUser)),e.next=5,xe.update(a);case 5:case"end":return e.stop()}},e)}));function t(t,r){return e.apply(this,arguments)}return t}(),loadCurrUser:function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(t,r){var n,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=r.id,t.commit({type:"setLoading",isLoading:!0}),e.prev=2,e.next=5,xe.getById(n);case 5:a=e.sent,t.commit({type:"setCurrUser",user:a}),t.commit({type:"setLoading",isLoading:!1}),e.next=14;break;case 10:throw e.prev=10,e.t0=e["catch"](2),t.commit({type:"setCurrUser",user:null}),e.t0;case 14:case"end":return e.stop()}},e,null,[[2,10]])}));function t(t,r){return e.apply(this,arguments)}return t}()}},J=r("8055"),V=r.n(J),Y={join:Q,leave:ee,sendMsg:ae,init:X,disconnect:K,sendNotification:ie,updateNotification:ce,addNotification:ue,clap:le};function X(){return W.apply(this,arguments)}function W(){return W=Object(c["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=4,V()();case 4:G=e.sent,e.next=10;break;case 7:return e.next=9,V()("//localhost:3000");case 9:G=e.sent;case 10:G.on("msgs-history",re),G.on("msg",ne),G.on("alert",se),G.on("added",oe),G.on("not logged in",we),pe.getters.roomId&&Q(pe.getters.roomId),e.next=21;break;case 18:e.prev=18,e.t0=e["catch"](0),console.log("in socketInit",e.t0);case 21:case"end":return e.stop()}},e,null,[[0,18]])})),W.apply(this,arguments)}function K(){G&&G.disconnect()}function Q(e){return Z.apply(this,arguments)}function Z(){return Z=Object(c["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:G&&G.emit("join",t);case 1:case"end":return e.stop()}},e)})),Z.apply(this,arguments)}function ee(e){return te.apply(this,arguments)}function te(){return te=Object(c["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:G&&G.emit("leave",t);case 1:case"end":return e.stop()}},e)})),te.apply(this,arguments)}function re(e){pe.dispatch("setMsgs",e)}function ne(e){pe.dispatch("setMsg",e)}function ae(e){G&&G.emit("chat msg",e)}function se(e){f[e.type](e.title,e.body)}function ie(e,t){var r=e.maxMembers-e.members.length;G.emit("eventera ".concat(t),{spotsLeft:r,_id:e._id,name:e.name})}function oe(e){pe.dispatch({type:"updateAddedMap",categories:e})}function ce(e){G.emit("update",e)}function ue(e){G.emit("add",e)}function le(e){G.emit("clapped",e)}var de={state:{chatMsgs:[],roomId:"",newEventerasMap:{sport:0,music:0,games:0,"self improvement":0,hobbies:0,all:0}},getters:{chatMsgs:function(e){return e.chatMsgs},roomId:function(e){return e.roomId},newEventeraMap:function(e){return e.newEventerasMap}},mutations:{setMsgs:function(e,t){e.chatMsgs=t},setMsg:function(e,t){e.chatMsgs.push(t)},setRoomId:function(e,t){var r=t._id;e.roomId=r},updateAddedMap:function(e,t){var r=t.categories;r.forEach(function(t){return e.newEventerasMap[t.toLowerCase()]++}),e.newEventerasMap.all++},resetAddedMap:function(e){e.newEventerasMap={sport:0,music:0,games:0,"self improvement":0,hobbies:0,all:0}}},actions:{joinEventeraChat:function(e,t){var r=t._id;Y.join(r),e.commit({type:"setRoomId",_id:r})},leaveEventeraChat:function(e,t){var r=t._id;Y.leave(r),e.commit({type:"setRoomId",_id:""})},setMsgs:function(e,t){e.commit("setMsgs",t)},setMsg:function(e,t){e.commit("setMsg",t)},sendMsg:function(e,t){Y.sendMsg(t)},socketInit:function(){Y.init()},disconnectSocket:function(){Y.disconnect()},eventeraNotification:function(e,t){var r=t.eventera,n=t.method;Y.sendNotification(r,n)},updateAddedMap:function(e,t){e.commit(t)},updateNotification:function(e,t){var r=t.eventera;Y.updateNotification(r)},addNotification:function(e,t){var r=t.eventera;Y.addNotification(r)},clap:function(e,t){Y.clap(t)}}};n["default"].use(U["a"]);var pe=new U["a"].Store({strict:!0,modules:{eventeraStore:q,UserStore:H,SocketStore:de},state:{isLoading:!1},mutations:{setLoading:function(e,t){var r=t.isLoading;e.isLoading=r}},actions:{setLoading:function(e,t){e.commit(t)}},getters:{isLoading:function(e){return e.isLoading}}}),me=r("bc3a"),fe=r.n(me),ve="/api/",ge=fe.a.create({withCredentials:!0});function he(e){return be.apply(this,arguments)}function be(){return be=Object(c["a"])(regeneratorRuntime.mark(function e(t){var r,n,a,s,i=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=i.length>1&&void 0!==i[1]?i[1]:"get",n=i.length>2&&void 0!==i[2]?i[2]:null,a=i.length>3&&void 0!==i[3]?i[3]:null,e.prev=3,e.next=6,ge({url:"".concat(ve).concat(t),method:r,data:n,params:a});case 6:return s=e.sent,e.abrupt("return",s.data);case 10:throw e.prev=10,e.t0=e["catch"](3),console.warn("in httpservice : ",e.t0),401===e.t0.response.status&&we(),e.t0;case 15:case"end":return e.stop()}},e,null,[[3,10]])})),be.apply(this,arguments)}var ye={get:function(e,t){return he(e,"GET",null,t)},post:function(e,t){return he(e,"POST",t)},put:function(e,t){return he(e,"PUT",t)},delete:function(e,t){return he(e,"DELETE",t)}};function we(){var e=pe.getters.loggedUser;e?(pe.commit("setLoggedUser",{user:null}),f.err("Please login again","Session timed out")):f.err("Not logged in ","Please log in to preform this action")}var _e="user",xe={getById:Me,login:Ce,logout:Ue,signup:ke,update:Ie,getLoggedUser:Le};function Ce(e){return je.apply(this,arguments)}function je(){return je=Object(c["a"])(regeneratorRuntime.mark(function e(t){var r,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=t.username,n=t.password,e.prev=1,e.next=4,ye.post("auth/login",{username:r,password:n});case 4:return e.abrupt("return",e.sent);case 7:throw e.prev=7,e.t0=e["catch"](1),console.log("ERR: had problems logging in",e.t0),new Error("Wrong username or wrong password");case 11:case"end":return e.stop()}},e,null,[[1,7]])})),je.apply(this,arguments)}function ke(e){return $e.apply(this,arguments)}function $e(){return $e=Object(c["a"])(regeneratorRuntime.mark(function e(t){var r,n,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=t.username,n=t.password,a=t.name,e.prev=1,e.next=4,ye.post("auth/signup",{username:r,password:n,name:a});case 4:return e.abrupt("return",e.sent);case 7:throw e.prev=7,e.t0=e["catch"](1),console.log("ERR: had problems with signup",e.t0),e.t0;case 11:case"end":return e.stop()}},e,null,[[1,7]])})),$e.apply(this,arguments)}function Ue(){return Ee.apply(this,arguments)}function Ee(){return Ee=Object(c["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ye.post("auth/logout");case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e["catch"](0),console.log("ERR : had problems with logout"),e.t0;case 10:case"end":return e.stop()}},e,null,[[0,6]])})),Ee.apply(this,arguments)}function Le(){return Oe.apply(this,arguments)}function Oe(){return Oe=Object(c["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ye.get("".concat(_e,"/current"));case 3:if(t=e.sent,!t){e.next=8;break}return e.abrupt("return",ye.get("".concat(_e,"/").concat(t._id)));case 8:return e.abrupt("return",null);case 9:e.next=15;break;case 11:throw e.prev=11,e.t0=e["catch"](0),console.log("No logged in user",e.t0),e.t0;case 15:case"end":return e.stop()}},e,null,[[0,11]])})),Oe.apply(this,arguments)}function Ie(e){return ye.put("".concat(_e,"/").concat(e._id),e)}function Me(e){return Re.apply(this,arguments)}function Re(){return Re=Object(c["a"])(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ye.get("".concat(_e,"/").concat(t));case 3:return r=e.sent,e.abrupt("return",r);case 7:throw e.prev=7,e.t0=e["catch"](0),e.t0;case 10:case"end":return e.stop()}},e,null,[[0,7]])})),Re.apply(this,arguments)}var Pe=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("span",{staticStyle:{display:"none"}})},Se=[],Be="resize",Fe={props:{ranges:Array},methods:{checkSize:function(e){var t=e.target,r=t.innerWidth,n="";this.ranges.some(function(e){r>e.min&&r<e.max&&(n=e.name)}),this.$emit(Be,n)}},created:function(){window.addEventListener("resize",this.checkSize)},destroyed:function(){window.removeEventListener("resize",this.checkSize)}},Ne=Fe,Ae=Object(j["a"])(Ne,Pe,Se,!1,null,null,null),Te=Ae.exports,De=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",{class:e.isLandingClass,on:{mouseleave:function(t){e.isMenuDisplayed=!1},click:function(t){e.isMenuDisplayed=!1}}},[r("div",{staticClass:"logged-user"},[r("img",{attrs:{src:e._f("imgSrc")(e.user.profileImgUrl),height:"65",width:"65"},on:{mouseover:function(t){e.isMenuDisplayed=!0},click:e.toggleMenu}}),e.isMenuEnabled&&e.isMenuDisplayed?r("div",{staticClass:"menu",on:{mouseover:function(t){e.isMenuDisplayed=!0}}},[r("router-link",{staticClass:"menu-item",attrs:{to:"/user"}},[e._v("Profile page")]),r("div",{staticClass:"menu-item",on:{click:function(t){return e.$emit("logout")}}},[e._v("Logout")])],1):e._e()])])},ze=[],Ge={props:{isMenuEnabled:{type:Boolean,default:!0}},data:function(){return{isMenuDisplayed:!1}},computed:{user:function(){return this.$store.getters.loggedUser},isLandingClass:function(){return{isLanding:"/"===this.$route.path||this.$route.path.includes("/eventera/edit")}}},created:function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$store.dispatch({type:"loadLoggedUser"});case 2:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),methods:{toggleMenu:function(){this.isMenuDisplayed=!this.isMenuDisplayed}}},qe=Ge,He=(r("4f9e"),Object(j["a"])(qe,De,ze,!1,null,"00ae6379",null)),Je=He.exports,Ve={created:function(){this.$store.dispatch({type:"loadLoggedUser"}),_.$on(y,this.showLoginForm),_.$on(w,this.showSignupForm),this.routeListen=this.$route.path},destroyed:function(){_.$off(y,this.showLoginForm),_.$off(w,this.showSignupForm)},data:function(){return{isLoginForm:!1,isSignupForm:!1,isSpanX:!1,isOpen:!1,routeListen:null,formInput:{username:"",password:"",name:""},errMsg:"",rangesForHamburger:[{min:0,max:600,name:"mobile"},{min:601,max:1e4,name:"regular"}]}},computed:{loggedUser:function(){return this.$store.getters.loggedUser},mainClass:function(){var e=!0;return("/"===this.$route.path||this.$route.path.includes("/eventera/edit"))&&(e=!1),{isMain:e}}},methods:{handleResizeEvent:function(e){"mobile"===e&&this.closeNav()},toggleNav:function(){this.isSpanX=!this.isSpanX,this.isOpen=!this.isOpen},closeNav:function(){this.isSpanX=!1,this.isOpen=!1},routeChange:function(){this.routerListes!==this.$route.path&&!0===this.isOpen&&this.toggleNav()},clearFormInput:function(){this.formInput={username:"",password:"",name:""}},clearErr:function(){this.errMsg=""},login:function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t={username:this.formInput.username,password:this.formInput.password},e.next=4,xe.login(t);case 4:this.$store.dispatch({type:"loadLoggedUser"}),this.clearFormInput(),this.hideForms(),_.$emit(g,"Login","Successfuly logged in!"),e.next=14;break;case 10:e.prev=10,e.t0=e["catch"](0),this.errMsg=e.t0.message,setTimeout(this.clearErr,5e3);case 14:case"end":return e.stop()}},e,this,[[0,10]])}));function t(){return e.apply(this,arguments)}return t}(),signup:function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t={username:this.formInput.username,password:this.formInput.password,name:this.formInput.name},e.next=4,xe.signup(t);case 4:this.$store.dispatch({type:"loadLoggedUser"}),this.clearFormInput(),this.hideForms(),e.next=13;break;case 9:e.prev=9,e.t0=e["catch"](0),this.errMsg=e.t0.message,setTimeout(this.clearErr,6e3);case 13:case"end":return e.stop()}},e,this,[[0,9]])}));function t(){return e.apply(this,arguments)}return t}(),logout:function(){xe.logout(),this.$route.path.includes("/user")&&this.$router.push("/"),this.$store.commit({type:"setLoggedUser",user:null}),this.$store.dispatch({type:"disconnectSocket"})},goToHome:function(){this.$router.push("/")},showLoginForm:function(){console.log("in show"),this.isSignupForm=!1,this.isLoginForm=!0},showSignupForm:function(){console.log("in show"),this.isLoginForm=!1,this.isSignupForm=!0},hideForms:function(){this.isLoginForm=!1,this.isSignupForm=!1,this.clearFormInput()}},components:{VueModal:$,VueResize:Te,loggedUser:Je}},Ye=Ve,Xe=(r("4d5d"),Object(j["a"])(Ye,i,o,!1,null,"600d88e9",null)),We=Xe.exports,Ke={components:{EventeraHeader:We},computed:{isLoading:function(){return this.$store.getters.isLoading},loaderClass:function(){var e="/"===this.$route.fullPath;return{"homepage-loader":e}}},created:function(){}},Qe=Ke,Ze=(r("095b"),Object(j["a"])(Qe,a,s,!1,null,null,null)),et=Ze.exports,tt=r("8c4f"),rt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"home"},[r("Homepage")],1)},nt=[],at=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",{staticClass:"landing-container"},[r("section",{staticClass:"home-container flex"},[r("div",{staticClass:"bg-container"}),r("EventeraQuickstart",{on:{searchEventeras:e.searchEventeras}})],1),r("h1",{staticClass:"list-header-home"},[e._v("Find your event:")]),e._l(e.eventerasByCategories,function(t){return r("Eventera-list",{key:t.category,attrs:{eventeraByCategory:t},on:{showMore:e.setFilterCategory}})})],2)},st=[],it=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.eventeraByCategory.eventeras.length&&!e.isLoading?r("section",{staticClass:"eventera-list-container max-width"},[r("div",{staticClass:"bg-container-list",class:e.mainClass}),r("h1",{staticClass:"category-header"},[e._v(e._s(e._f("capitalize")(e.eventeraByCategory.category)))]),r("ul",{staticClass:"eventera-list"},e._l(e.eventeraByCategory.eventeras.slice(0,4),function(e){return r("eventera-preview",{key:e._id,attrs:{eventera:e}})}),1),e.eventeraByCategory.eventeras.length?r("button",{staticClass:"show-more-btn",on:{click:e.emitCategory}},[e._v("Show more")]):e._e()]):e._e()},ot=[],ct=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("router-link",{attrs:{tag:"div",to:e.detailsUrl}},[r("section",{staticClass:"eventera-preview flex column space-around"},[r("img",{staticClass:"prev-image",attrs:{src:e.eventera.imgUrls[0],alt:"",width:"350px",height:"240px"}}),r("div",{staticClass:"secondary"},[r("span",[e._v(e._s(e._f("capitalize")(e.eventera.categories[0])))]),e.distance?r("span",[e._v(e._s(e._f("meterToKM")(e.distance)))]):e._e()]),r("h2",[e._v(e._s(e.eventera.name))]),r("div",{staticClass:"secondary"},[r("div",[e._v(e._s(e._f("timeAgo")(e.eventera.expireAt)))]),r("div",[e._v(e._s(e.spacesRemain))])]),r("div",{staticClass:"carousel",on:{click:function(e){e.stopPropagation()}}},[r("carousel",{attrs:{"per-page":4,"mouse-drag":!0,autoplay:!1,loop:!1,paginationEnabled:!1,speed:8e3}},e._l(e.eventera.members,function(t){return r("slide",{key:t._id,staticClass:"carousel-slide",attrs:{"data-name":"1"}},[t.profileImgUrl?r("img",{staticClass:"user-img-carousel",attrs:{src:t.profileImgUrl}}):e._e()])}),1)],1)])])},ut=[],lt=r("8c84"),dt={props:{eventera:Object},computed:{detailsUrl:function(){return"/eventera/".concat(this.eventera._id)},distance:function(){if(!this.$store.getters.loggedUser||!this.$store.getters.loggedUser.loc)return"";var e=this.$store.getters.loggedUser.loc,t=e.geo,r=this.eventera.loc.geo;return r?Object(lt["getDistance"])(r,t):""},spacesRemain:function(){var e=this.eventera.maxMembers-this.eventera.members.length,t="".concat(e," Spaces Remain");return e||(t="No spaces remain"),1===e&&(t="Last spot remaining"),"".concat(t," (out of ").concat(this.eventera.maxMembers,")")}}},pt=dt,mt=(r("264b"),Object(j["a"])(pt,ct,ut,!1,null,"d6de0240",null)),ft=mt.exports,vt={data:function(){return{}},computed:{isLoading:function(){return this.$store.getters.isLoading},mainClass:function(){var e=!0;return"/"===this.$route.path&&(e=!1),{isntMain:e}}},props:{eventeraByCategory:Object},methods:{emitCategory:function(){this.$emit("showMore",this.eventeraByCategory.category)}},components:{EventeraPreview:ft}},gt=vt,ht=(r("2d53"),Object(j["a"])(gt,it,ot,!1,null,"3388bb0c",null)),bt=ht.exports,yt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",{staticClass:"filter-container flex space-around column"},[r("h1",[e._v("Unique events and people to be explored")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.filterBy.txt,expression:"filterBy.txt"}],staticClass:"search-filter-input",attrs:{type:"text",placeholder:"Try: Fireworks display"},domProps:{value:e.filterBy.txt},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.emitSearch(t)},input:function(t){t.target.composing||e.$set(e.filterBy,"txt",t.target.value)}}}),r("button",{staticClass:"search-eventeras",on:{click:e.emitSearch}},[e._v("Explore")])])},wt=[],_t={data:function(){return{filterBy:{txt:"",category:"General",almostFull:!1,startingAt:0,showClosed:!1}}},methods:{emitSearch:function(){this.filterBy.txt&&this.$emit("searchEventeras",this.filterBy)}}},xt=_t,Ct=(r("8924"),Object(j["a"])(xt,yt,wt,!1,null,"10f35156",null)),jt=Ct.exports,kt={data:function(){return{}},computed:{eventerasByCategories:function(){return this.$store.getters.eventerasByCategories}},methods:{loadEventeras:function(){this.$store.dispatch({type:"loadEventeras"})},handleClick:function(e){console.log("inside click on slide:",e.name)},searchEventeras:function(e){this.$store.dispatch({type:"setFilter",filterBy:e}),this.$router.push("/eventera")},setFilterCategory:function(e){this.$store.commit("setFilterCategory",e),this.loadEventeras(),this.$router.push("/eventera")}},created:function(){this.loadEventeras()},components:{EventeraQuickstart:jt,EventeraList:bt,EventeraPreview:ft}},$t=kt,Ut=(r("ea60"),Object(j["a"])($t,at,st,!1,null,"2c1a0eb3",null)),Et=Ut.exports,Lt={name:"home",components:{Homepage:Et}},Ot=Lt,It=Object(j["a"])(Ot,rt,nt,!1,null,null,null),Mt=It.exports,Rt=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},Pt=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"about"},[n("h1",[e._v("App Developers")]),n("div",{staticClass:"container flex row flex-center space-around"},[n("div",{staticClass:"matan"},[n("img",{attrs:{src:r("e1b1"),alt:"Matan"}}),n("h3",[e._v("Matan Nadav")]),n("p",[e._v("\n        Full-stack developer educated at Coding Academy - bootcamp\n        "),n("span",[e._v("not")]),e._v(" for the faint of heart\n        "),n("br"),e._v("On a personal note: had an amazing time bringing this fruit of our labor to life\n      ")])]),n("div",{staticClass:"yarin"},[n("img",{attrs:{src:r("d931"),alt:"Yarin"}}),n("h3",[e._v("Yarin Bahar")]),n("p",[e._v("Had an amazing time creating this app while keeping the love for gradient alive")])]),n("div",{staticClass:"joni"},[n("img",{attrs:{src:r("1bdf"),alt:"Joni"}}),n("h3",[e._v("Jonatan Fridja")]),n("p",[e._v("Had an amazing time creating this app while keeping the love for gradient alive")])])])])}],St={components:{}},Bt=St,Ft=(r("53f7"),Object(j["a"])(Bt,Rt,Pt,!1,null,"0f187322",null)),Nt=Ft.exports,At=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",{staticClass:"eventera-edit"},[r("div",{staticClass:"bg_img"}),r("div",{staticClass:"form_wrapper"},[r("div",{staticClass:"form_container"},[e._m(0),r("form",{on:{submit:function(t){return t.preventDefault(),e.saveEventera(t)}}},[r("div",{staticClass:"row clearfix"},[r("div",{staticClass:"col_half"},[r("label",[e._v("Title")]),r("div",{staticClass:"input_field"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.eventera.name,expression:"eventera.name"}],attrs:{type:"text",placeholder:"Title",required:""},domProps:{value:e.eventera.name},on:{input:function(t){t.target.composing||e.$set(e.eventera,"name",t.target.value)}}}),r("label",{staticClass:"file-input-label"},[e.isLoading?r("span",[e._v("Uploading")]):r("span",[e._v("\n                    Upload 3 images - 📁\n                    ")]),r("input",{staticClass:"img-file",attrs:{type:"file",id:"img-input",placeholder:"Title",multiple:""},on:{change:e.handleUploadImage}})])])]),r("div",{staticClass:"col_half"},[r("label",[e._v("\n                Enter event location / GPS:\n                "),r("span",{staticClass:"GPS-pin",on:{click:function(t){return t.preventDefault(),e.getLocation(t)}}},[e._v("📌")])]),r("div",{staticClass:"input_field"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.eventera.loc.city,expression:"eventera.loc.city"}],attrs:{type:"text",name:"location",placeholder:"City: Ramat-Gan"},domProps:{value:e.eventera.loc.city},on:{input:function(t){t.target.composing||e.$set(e.eventera.loc,"city",t.target.value)}}}),r("input",{directives:[{name:"model",rawName:"v-model",value:e.eventera.loc.address,expression:"eventera.loc.address"}],attrs:{type:"text",name:"location",placeholder:"Address: Habonim 6"},domProps:{value:e.eventera.loc.address},on:{input:function(t){t.target.composing||e.$set(e.eventera.loc,"address",t.target.value)}}})])])]),r("div",{staticClass:"row clearfix"},[r("div",{staticClass:"col_half"},[r("label",[e._v("Categories")]),r("div",{staticClass:"input_field"},[r("select",{directives:[{name:"model",rawName:"v-model",value:e.categoryList,expression:"categoryList"}],staticClass:"category-select",attrs:{multiple:"",required:""},on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.categoryList=t.target.multiple?r:r[0]}}},e._l(e.categories,function(t){return r("option",{key:t,domProps:{value:t}},[e._v(e._s(t))])}),0),r("input",{directives:[{name:"model",rawName:"v-model",value:e.eventera.maxMembers,expression:"eventera.maxMembers"}],staticClass:"input-number",attrs:{type:"number",placeholder:"Maximum number of particpiants",required:""},domProps:{value:e.eventera.maxMembers},on:{input:function(t){t.target.composing||e.$set(e.eventera,"maxMembers",t.target.value)}}})])]),r("div",{staticClass:"col_half"},[r("label",[e._v("Date & Time")]),r("div",{staticClass:"input_field"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.expireDate,expression:"expireDate"}],staticClass:"date",attrs:{type:"date",max:"2030-03-31",required:""},domProps:{value:e.expireDate},on:{input:function(t){t.target.composing||(e.expireDate=t.target.value)}}}),r("input",{directives:[{name:"model",rawName:"v-model",value:e.expireTime,expression:"expireTime"}],staticClass:"time",attrs:{type:"time",required:""},domProps:{value:e.expireTime},on:{input:function(t){t.target.composing||(e.expireTime=t.target.value)}}})])])]),r("div",{staticClass:"row clearfix"},[r("div",[r("label",[e._v("Your description")]),r("div",{staticClass:"textarea_field"},[r("textarea",{directives:[{name:"model",rawName:"v-model",value:e.eventera.description,expression:"eventera.description"}],attrs:{cols:"46",rows:"3",name:"comments",maxlength:"400",placeholder:"Not required"},domProps:{value:e.eventera.description},on:{input:function(t){t.target.composing||e.$set(e.eventera,"description",t.target.value)}}})])])]),r("input",{staticClass:"button",attrs:{disabled:e.isLoading,type:"submit",value:"Sumbit"}})])])])])},Tt=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"title_container"},[r("h2",[e._v("Plan your event")])])}],Dt=(r("28a5"),r("456d"),{data:function(){return{eventera:{name:"",loc:{geo:{lat:null,lng:null},city:"",address:""},imgUrls:[],description:""},categoryList:[],expireTime:"",expireDate:"",maxMembers:0}},computed:{categories:function(){return this.$store.getters.categories},isLoading:function(){return this.$store.getters.isLoading}},methods:{handleUploadImage:function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(t){var r,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=t.target.files,n=Object.keys(r).map(function(e){return[r[e]]}),n.length>3&&(n=n.splice(0,3)),e.next=5,this.$store.dispatch("uploadToCloud",n);case 5:this.eventera.imgUrls=e.sent;case 6:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),getLocation:function(){navigator&&navigator.geolocation&&navigator.geolocation.getCurrentPosition(this.setGeo,function(e){return console.warn(e)},{enableHighAccuracy:!0})},setGeo:function(e){var t=e.coords;this.eventera.loc.geo.lat=t.latitude,this.eventera.loc.geo.lng=t.longitude},saveEventera:function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(){var t,r,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(!this.isLoading){e.next=2;break}return e.abrupt("return",setTimeout(this.saveEventera,1e3));case 2:if(this.eventera.categories=this.categoryList,t=new Date(this.expireDate+":"+this.expireTime).getTime(),!isNaN(t)){e.next=8;break}return e.next=7,this.$store.dispatch("checkTime",this.expireDate+":"+this.expireTime);case 7:t=e.sent;case 8:if(!(t<Date.now())){e.next=10;break}return e.abrupt("return",f.err("Invalid time","Please input a date in the future"));case 10:return this.eventera.expireAt=t,e.next=13,this.$store.dispatch("saveEventera",this.eventera);case 13:r=e.sent,n=r._id,this.$router.push("/eventera/".concat(n));case 16:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),setTimes:function(e){this.expireTime=e.toLocaleTimeString("he-il").split(":").map(function(e){return+e&&+e<10?"0"+e:e}).join(":"),this.expireDate=e.toLocaleDateString("he-il").split(".").reverse().map(function(e){return+e<10?"0"+e:e}).join("-")}},created:function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(){var t,r,n,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(!this.$route.params.id){e.next=11;break}return t=this.$route.params.id,e.next=4,this.$store.dispatch({type:"getEventeraById",_id:t});case 4:r=e.sent,this.eventera=r,this.categoryList=r.categories,n=new Date(r.expireAt),this.setTimes(n),e.next=13;break;case 11:a=this.$store.getters.getNewEventera,this.eventera.name=a.name;case 13:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()}),zt=Dt,Gt=(r("18bb"),Object(j["a"])(zt,At,Tt,!1,null,"384db4c2",null)),qt=Gt.exports,Ht=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",[r("div",{staticClass:"main-box max-width-narrow"},[r("div",{staticClass:"flex"},[r("div",{staticClass:"side-bar"},[r("div",{staticClass:"profile-pic flex flex-center"},[e.user.profileImgUrl?r("img",{staticClass:"circle",attrs:{src:e.user.profileImgUrl}}):r("div",[e._v(e._s(e.nameInitials))])]),r("h2",[e._v(e._s(e.user.name))]),r("router-link",{attrs:{to:"/user/basics"}},[e._v("Basics")]),r("router-link",{attrs:{to:"/user/picture"}},[e._v("Profile Pictue")]),r("router-link",{attrs:{to:"/user/location"}},[e._v("Location")]),r("router-link",{attrs:{to:"/user/eventera"}},[e._v("My EventEras")])],1),r("router-view")],1)]),r("h1",[e._v("Profile Page")]),r("div")])},Jt=[],Vt={data:function(){return{user:{_id:"",name:"",profileImgUrl:""}}},created:function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(){var t,r,n,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$store.dispatch({type:"loadLoggedUser"});case 2:t=this.$store.getters.loggedUser,r=t._id,n=t.name,a=t.profileImgUrl,r||this.$router.push("/"),this.user={_id:r,name:n,profileImgUrl:a};case 5:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),computed:{nameInitials:function(){if(!this.user.name)return"";var e=this.user.name.split(" "),t=e.reduce(function(e,t){return e+t.charAt(0)},"");return t.slice(0,3)}},components:{EventeraHeader:We}},Yt=Vt,Xt=(r("8069"),Object(j["a"])(Yt,Ht,Jt,!1,null,"dd04bfd2",null)),Wt=Xt.exports,Kt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",[e._m(0),r("div",{staticClass:"main-body"},[r("form",{on:{submit:function(t){return t.preventDefault(),e.save(t)}}},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.user.name,expression:"user.name"}],attrs:{type:"text",placeholder:"Name"},domProps:{value:e.user.name},on:{input:function(t){t.target.composing||e.$set(e.user,"name",t.target.value)}}}),r("input",{directives:[{name:"model",rawName:"v-model",value:e.user.email,expression:"user.email"}],attrs:{type:"email",placeholder:"Email"},domProps:{value:e.user.email},on:{input:function(t){t.target.composing||e.$set(e.user,"email",t.target.value)}}}),r("input",{directives:[{name:"model",rawName:"v-model",value:e.user.phone,expression:"user.phone"}],attrs:{type:"tel",placeholder:"Phone"},domProps:{value:e.user.phone},on:{input:function(t){t.target.composing||e.$set(e.user,"phone",t.target.value)}}}),r("button",{staticClass:"btn-action"},[e._v("Save")])])])])},Qt=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"main-header"},[r("h2",[e._v("Public Profile")]),r("h3",[e._v("Add information about yourself")])])}],Zt={data:function(){return{user:{name:"",email:"",phone:""}}},created:function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(){var t,r,n,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$store.dispatch({type:"loadLoggedUser"});case 2:t=this.$store.getters.loggedUser,r=t.name,n=t.email,a=t.phone,this.user={name:r,email:n,phone:a};case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),methods:{save:function(){this.$store.dispatch({type:"saveUserBasics",name:this.user.name,email:this.user.email,phone:this.user.phone})}}},er=Zt,tr=(r("88f5"),Object(j["a"])(er,Kt,Qt,!1,null,"1b2d2220",null)),rr=tr.exports,nr=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",{staticClass:"user-picture"},[e._m(0),r("div",{staticClass:"main-body"},[r("form",{on:{submit:function(t){return t.preventDefault(),e.save(t)}}},[r("label",{staticClass:"file-input-label"},[e._v("\n        Update profile picture\n        "),r("input",{staticStyle:{display:"none"},attrs:{type:"file"},on:{change:e.handleUploadImage}})]),r("button",{staticClass:"btn-action"},[e._v("Save")])])])])},ar=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"main-header"},[r("h2",[e._v("Profile Picture")]),r("h3",[e._v("Let everyone know you")])])}],sr={created:function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$store.dispatch({type:"loadLoggedUser"});case 2:t=this.$store.getters.loggedUser.profileImgUrl,this.user={profileImgUrl:t};case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),data:function(){return{user:{profileImgUrl:""}}},methods:{handleUploadImage:function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(t){var r,n,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=t.target.files,n=Object.keys(r).map(function(e){return[r[e]]}),e.next=4,this.$store.dispatch("uploadToCloud",n);case 4:a=e.sent,this.user.profileImgUrl=a[0];case 6:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),save:function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.$store.dispatch({type:"saveUserProfileImg",profileImgUrl:this.user.profileImgUrl});case 3:f.success("Saved Successfuly","Profile Picture Saved"),e.next=9;break;case 6:e.prev=6,e.t0=e["catch"](0),f.err("Something Didn't work","Try again some other time :(");case 9:case"end":return e.stop()}},e,this,[[0,6]])}));function t(){return e.apply(this,arguments)}return t}()}},ir=sr,or=(r("cde3"),Object(j["a"])(ir,nr,ar,!1,null,"938dbf66",null)),cr=or.exports,ur=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",{staticClass:"user-location"},[e._m(0),r("div",{staticClass:"main-body"},[r("form",{on:{submit:function(t){return t.preventDefault(),e.save(t)}}},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.loc.address,expression:"loc.address"}],attrs:{type:"text",placeholder:"Try 'Sweden Stockholm'"},domProps:{value:e.loc.address},on:{input:[function(t){t.target.composing||e.$set(e.loc,"address",t.target.value)},e.getAddressPosition]}}),r("button",{staticClass:"btn-action",attrs:{type:"button"},on:{click:e.getUserLocation}},[e._v("Use my location")]),r("GmapMap",{attrs:{center:e.loc.geo,zoom:7,"map-type-id":"terrain",id:"g-map"}},[r("GmapMarker",{attrs:{position:e.loc.geo}})],1),r("button",{staticClass:"btn-action"},[e._v("Save")])],1)]),e._v("\n  "+e._s(e.loc.geo)+"\n")])},lr=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"main-header"},[r("h2",[e._v("Address")]),r("h3",[e._v("Make finding Eventeras easier")])])}],dr="AIzaSyCdP6PdiSpHc1Ld8fuwHLzvk2-kLSx6hWc",pr={getUserPosition:mr,getAddressPosition:vr,getFormattedAddress:fr};function mr(){return new Promise(function(e,t){navigator.geolocation.getCurrentPosition(e,t)})}function fr(e,t){}function vr(e){return new Promise(function(t,r){(new google.maps.Geocoder).geocode({address:e},function(e,n){if("OK"==n){var a={lat:e[0].geometry.location.lat(),lng:e[0].geometry.location.lng(),formatted:e[0].formatted_address};t(a)}else r("Geocode was not successful for the following reason: "+n)})})}var gr,hr,br=r("5118"),yr={name:"UserLocation",created:function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(){var t,r,n,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.$store.getters.loggedUser._id||this.$router.push("/"),e.next=3,this.$store.getters.loc;case 3:if(t=e.sent,this.loc=Object.assign({},t),t.geo&&t.geo.lat&&t.geo.lng){e.next=12;break}return e.next=8,pr.getAddressPosition(this.loc.address);case 8:r=e.sent,n=r.lat,a=r.lng,this.loc.geo={lat:n,lng:a};case 12:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),data:function(){return{loc:{address:"",geo:{lat:0,lng:0}}}},methods:{getUserLocation:function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(){var t,r,n,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,pr.getUserPosition();case 2:t=e.sent,r=t.coords,console.log("coords",r),n=r.latitude,a=r.longitude,this.loc.geo={lat:n,lng:a};case 7:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),getAddressPosition:function(){var e=this;try{gr&&Object(br["clearTimeout"])(gr),gr=Object(br["setTimeout"])(Object(c["a"])(regeneratorRuntime.mark(function t(){var r,n,a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,pr.getAddressPosition(e.loc.address);case 2:r=t.sent,n=r.lat,a=r.lng,e.loc.geo={lat:n,lng:a};case 6:case"end":return t.stop()}},t)})),500)}catch(m){console.log("had issues with finding getAddressPosition",m)}},save:function(){this.$store.dispatch({type:"updateLocation",loc:this.loc})}}},wr=yr,_r=(r("e629"),Object(j["a"])(wr,ur,lr,!1,null,"efbdedb8",null)),xr=_r.exports,Cr=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",[e._v("\n    use can check the events he's signed into\n")])},jr=[],kr={},$r=Object(j["a"])(kr,Cr,jr,!1,null,null,null),Ur=$r.exports,Er=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",{staticClass:"user-profile-section max-width"},[r("div",{staticClass:"main-box max-width-narrow"},[r("div",{staticClass:"flex"},[r("div",{staticClass:"side-bar"},[r("div",{staticClass:"profile-pic flex flex-center"},[e.user.profileImgUrl?r("img",{staticClass:"circle",attrs:{src:e.user.profileImgUrl}}):r("div",[e._v(e._s(e.nameInitials))])]),r("h2",[e._v(e._s(e.user.name))]),r("router-link",{attrs:{to:"/user/basics"}},[e._v("Basics")]),r("router-link",{attrs:{to:"/user/picture"}},[e._v("Profile Pictue")]),r("router-link",{attrs:{to:"/user/location"}},[e._v("Location")]),r("router-link",{attrs:{to:"/user/eventera"}},[e._v("My EventEras")])],1),r("router-view")],1)]),r("h1",[e._v("Profile Page")]),r("div")])},Lr=[],Or={created:function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t=this.$route.params.id,e.next=4,this.$store.dispatch({type:"loadCurrUser",id:t});case 4:if(this.user){e.next=6;break}throw new Error("no user");case 6:e.next=12;break;case 8:e.prev=8,e.t0=e["catch"](0),f.err("Page not found",":("),this.$router.push("/");case 12:case"end":return e.stop()}},e,this,[[0,8]])}));function t(){return e.apply(this,arguments)}return t}(),computed:{user:function(){return this.$store.getters.currUser}}},Ir=Or,Mr=(r("e3f7"),Object(j["a"])(Ir,Er,Lr,!1,null,"515ea422",null)),Rr=Mr.exports,Pr=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",[r("div",{staticClass:"bg-container-app"}),r("eventera-filter"),e.isCategorySelected?r("section",[r("eventera-category",{attrs:{eventeras:e.eventerasForDisplay,category:e.selectedCategory}})],1):r("section",e._l(e.eventerasByCategories,function(t){return r("eventera-list",{key:t.category,attrs:{eventeraByCategory:t},on:{showMore:e.setFilterCategory}})}),1)],1)},Sr=[],Br=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.isLoading?e._e():r("section",{staticClass:"eventera-list-container max-width"},[e.newEventeraMap?r("div",{staticClass:"load-container"},[r("button",{on:{click:function(t){return t.stopPropagation(),e.loadEventeras(t)}}},[e._v("\n      Load "+e._s(e.newEventeraMap)+" new EventEras\n    ")])]):e._e(),r("div",{staticClass:"bg-container"}),r("h1",[e._v(e._s(e._f("capitalize")(e.category)))]),r("section",{staticClass:"eventera-list"},e._l(e.eventeras,function(e){return r("eventera-preview",{key:e._id,attrs:{eventera:e}})}),1)])},Fr=[],Nr={props:{eventeras:Array,category:String},components:{EventeraPreview:ft},computed:{isLoading:function(){return this.$store.getters.isLoading},newEventeraMap:function(){return this.$store.getters.newEventeraMap[this.category.toLowerCase()]}},methods:{loadEventeras:function(){this.$store.dispatch("loadEventeras")}},created:function(){}},Ar=Nr,Tr=(r("6d94"),Object(j["a"])(Ar,Br,Fr,!1,null,"4aefff95",null)),Dr=Tr.exports,zr=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",{staticClass:"eventera-filter max-width"},[r("form",{staticClass:"filter-form flex row space-between max-width"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.filterBy.txt,expression:"filterBy.txt"}],staticClass:"search-name-input",attrs:{type:"text",placeholder:"Eventera name"},domProps:{value:e.filterBy.txt},on:{input:[function(t){t.target.composing||e.$set(e.filterBy,"txt",t.target.value)},e.setFilter]}}),r("select",{directives:[{name:"model",rawName:"v-model",value:e.filterBy.category,expression:"filterBy.category"}],staticClass:"category-filter",on:{change:[function(t){var r=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.filterBy,"category",t.target.multiple?r:r[0])},e.setFilter]}},[r("option",{attrs:{value:"General"}},[e._v(" Category: All")]),e._l(e.categories,function(t){return r("option",{key:t,domProps:{value:t}},[e._v(e._s(t))])})],2),r("label",[r("input",{directives:[{name:"model",rawName:"v-model",value:e.filterBy.almostFull,expression:"filterBy.almostFull"}],staticClass:"about-to-close check-box",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.filterBy.almostFull)?e._i(e.filterBy.almostFull,null)>-1:e.filterBy.almostFull},on:{change:[function(t){var r=e.filterBy.almostFull,n=t.target,a=!!n.checked;if(Array.isArray(r)){var s=null,i=e._i(r,s);n.checked?i<0&&e.$set(e.filterBy,"almostFull",r.concat([s])):i>-1&&e.$set(e.filterBy,"almostFull",r.slice(0,i).concat(r.slice(i+1)))}else e.$set(e.filterBy,"almostFull",a)},e.setFilter]}}),r("p",{staticClass:"full-filter"},[e._v("    \n          Almost full\n        ")])]),r("label",[r("input",{directives:[{name:"model",rawName:"v-model",value:e.filterBy.showClosed,expression:"filterBy.showClosed"}],staticClass:"show-closed check-box",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.filterBy.showClosed)?e._i(e.filterBy.showClosed,null)>-1:e.filterBy.showClosed},on:{change:[function(t){var r=e.filterBy.showClosed,n=t.target,a=!!n.checked;if(Array.isArray(r)){var s=null,i=e._i(r,s);n.checked?i<0&&e.$set(e.filterBy,"showClosed",r.concat([s])):i>-1&&e.$set(e.filterBy,"showClosed",r.slice(0,i).concat(r.slice(i+1)))}else e.$set(e.filterBy,"showClosed",a)},e.setFilter]}}),r("p",{staticClass:"closed-filter"},[e._v("\n          Closed\n        ")])]),r("select",{directives:[{name:"model",rawName:"v-model",value:e.filterBy.startingAt,expression:"filterBy.startingAt"}],staticClass:"time-filter",on:{change:[function(t){var r=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.filterBy,"startingAt",t.target.multiple?r:r[0])},e.setFilter]}},[r("option",{domProps:{value:e.timeValues.all}},[e._v("Time: All")]),r("option",{domProps:{value:e.timeValues.soon}},[e._v("Starting soon")]),r("option",{domProps:{value:e.timeValues.fewDays}},[e._v("In the next couple of days")]),r("option",{domProps:{value:e.timeValues.week}},[e._v("Upcoming week")])])])])},Gr=[],qr=36e5,Hr={data:function(){return{filterBy:{txt:"",category:"General",almostFull:!1,startingAt:0,showClosed:!1},timeValues:{all:0,soon:8*qr,fewDays:48*qr,week:168*qr}}},computed:{categories:function(){return this.$store.getters.categories}},methods:{setFilter:function(){var e=this;hr&&clearTimeout(hr),hr=setTimeout(Object(c["a"])(regeneratorRuntime.mark(function t(){var r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return r=JSON.parse(JSON.stringify(e.filterBy)),t.next=3,e.$store.dispatch({type:"setFilter",filterBy:r});case 3:e.$store.dispatch({type:"loadEventeras"});case 4:case"end":return t.stop()}},t)})),400)}},created:function(){var e=this.$store.getters.filterBy;this.filterBy=JSON.parse(JSON.stringify(e))}},Jr=Hr,Vr=(r("03ed"),Object(j["a"])(Jr,zr,Gr,!1,null,"81b98a96",null)),Yr=Vr.exports,Xr={name:"EventeraApp",created:function(){this.$store.dispatch({type:"loadEventeras"})},computed:{eventerasByCategories:function(){return this.$store.getters.eventerasByCategories},selectedCategory:function(){return this.$store.getters.selectedCategory},isCategorySelected:function(){return"General"!==this.selectedCategory},eventerasForDisplay:function(){return this.$store.getters.eventerasForDisplay}},methods:{setFilterCategory:function(e){this.$store.commit("setFilterCategory",e),this.$store.dispatch("loadEventeras")}},components:{eventeraList:bt,eventeraFilter:Yr,eventeraCategory:Dr}},Wr=Xr,Kr=(r("9bc4"),Object(j["a"])(Wr,Pr,Sr,!1,null,"a3b8793a",null)),Qr=Kr.exports,Zr=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.eventera?n("section",{staticClass:"details-container",on:{click:e.closeChat}},[e.profileUserId&&e.profileUser?n("VueModal",{on:{close:e.handleModalClose}},[n("h1",{attrs:{slot:"header"},slot:"header"},[e._v(e._s(e.profileUser.name))]),n("div",{attrs:{slot:"body"},slot:"body"},[n("div",{staticClass:"profile-modal-body"},[n("img",{attrs:{src:e._f("imgSrc")(e.profileUser.profileImgUrl)}})])]),n("div",{attrs:{slot:"footer"},slot:"footer"})]):e._e(),n("div",{staticClass:"bg-details-container"}),n("section",{staticClass:"gallery-contianer"},[n("div",{staticClass:"img-container-one"},[n("img",{staticClass:"gallery-img",attrs:{src:e._f("imgSrc")(e.imgs[0])}})]),n("div",{staticClass:"img-container-two"},[n("img",{staticClass:"gallery-img",attrs:{src:e._f("imgSrc")(e.imgs[1])}})]),n("div",{staticClass:"img-container-three"},[n("img",{staticClass:"gallery-img",attrs:{src:e._f("imgSrc")(e.imgs[2])}})])]),n("section",{staticClass:"desc-container max-width"},[n("div",{staticClass:"text-container flex flex-center space-around"},[n("h1",[e._v(e._s(e.eventera.name))]),e.eventera.creator.profileImgUrl?n("img",{attrs:{src:e.creatorImg,width:"65px",height:"65px"}}):e._e()]),n("div",{staticClass:"eventera-status flex flex-center space-around"},[n("h2",{staticClass:"members"},[e._v(e._s(e.eventera.members.length)+" / "+e._s(e.eventera.maxMembers))]),n("button",{staticClass:"join-btn",on:{click:e.eventeraControls}},[e._v(e._s(e.controlBtnTxt))])]),n("div",{staticClass:"members-list flex column space-around"},[n("h1",[e._v("Members list")]),n("ul",e._l(e.eventera.members,function(t,a){return n("li",{key:a,staticClass:"member-item flex space-between"},[n("span",{staticClass:"clap-icon",class:{"disabled-clap":e.loggedUser&&e.loggedUser._id===t._id},on:{click:function(r){return r.stopPropagation(),e.clap(t._id)}}},[n("img",{attrs:{src:r("f23d")}}),e._v("\n          "+e._s(t.mvpVoteCount)+"\n        ")]),e._v("\n          "+e._s(t.name)+"\n          "),n("img",{attrs:{src:e._f("imgSrc")(t.profileImgUrl),alt:"member"},on:{click:function(r){return e.loadUserProfile(t._id)}}})])}),0)]),n("div",{staticClass:"eventera-creator-text flex column"},[n("h1",[e._v("Date: "+e._s(e._f("moment")(new Date(e.eventera.expireAt),"dddd, MMMM Do YYYY, h:mm a")))]),n("h3",[e._v("Location: "+e._s(e.eventera.loc.streetName)+" "+e._s(e.eventera.loc.city))]),n("p",[e._v(e._s(e.eventera.description))])]),n("eventera-chat")],1)],1):e._e()},en=[],tn=(r("7514"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",{staticClass:"images-container flex column"},[r("div",{staticClass:"full-image flex flex-center"},[e.mainImg?r("img",{attrs:{src:e.mainImg}}):r("h3",[e._v("Choose an image")])]),r("div",{staticClass:"image-list flex row"},[e.imageUrls[0]?r("img",{attrs:{src:e.imageUrls[0]},on:{click:e.setMainImg}}):e._e(),e.imageUrls[1]?r("img",{attrs:{src:e.imageUrls[1]},on:{click:e.setMainImg}}):e._e(),e.imageUrls[2]?r("img",{attrs:{src:e.imageUrls[2]},on:{click:e.setMainImg}}):e._e(),e.imageUrls[3]?r("img",{attrs:{src:e.imageUrls[3]},on:{click:e.setMainImg}}):e._e()]),r("label",{attrs:{id:"add-img-label"}},[e._v("\n    Add image\n    "),r("input",{ref:"myImage",staticClass:"add-img-input",attrs:{type:"file"},on:{change:e.setImageUrl}})])])}),rn=[],nn=r("768b"),an={data:function(){return{mainImg:null,imageUrls:[]}},methods:{setMainImg:function(e){this.mainImg=e.srcElement.src},setImageUrl:function(){var e=this.$refs.myImage.files,t=function(e){var t=Object(nn["a"])(e,1),r=t[0];return URL.createObjectURL(r)}(e);this.imageUrls.push(t)}}},sn=an,on=(r("0eac"),Object(j["a"])(sn,tn,rn,!1,null,"3e41f972",null)),cn=on.exports,un=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",[r("GmapMap",{staticStyle:{width:"500px",height:"300px"},attrs:{center:{lat:32.0749831,lng:34.9120554},zoom:7,"map-type-id":"terrain"}},[r("GmapMarker",{attrs:{position:{lat:32.0749831,lng:34.9120554},clickable:!0,draggable:!0},on:{click:function(t){e.center=e.m.position}}})],1)],1)},ln=[],dn={data:function(){return{}},methods:{},computed:{},created:function(){}},pn=dn,mn=Object(j["a"])(pn,un,ln,!1,null,null,null),fn=mn.exports,vn=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",[r("span",{staticClass:"chat-icon",on:{click:function(t){return t.stopPropagation(),e.openChat(t)}}}),r("div",{staticClass:"chat-container",class:{chat:e.isChat},on:{click:function(e){e.stopPropagation()}}},[r("button",{staticClass:"chat-close-btn btn",on:{click:function(t){return t.stopPropagation(),e.closeChat(t)}}},[e._v("X")]),r("h1",{staticClass:"chat-title"},[e._v("Members chat")]),r("section",{ref:"myref",staticClass:"chat-msgs"},e._l(e.msgs,function(t){return r("section",{key:t.sentAt,staticClass:"chat-msg",class:{"user-msg":t.sender===e.username}},[r("span",{staticClass:"sender"},[e._v(e._s(t.sender))]),r("p",{staticClass:"msg-body"},[e._v(e._s(t.txt))]),r("span",{staticClass:"sent-at"},[e._v(e._s(e._f("timeAgo")(t.sentAt)))])])}),0),r("form",{on:{submit:function(t){return t.preventDefault(),e.sendMsg(t)}}},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.txt,expression:"txt"}],staticClass:"chat-input",attrs:{type:"text",disabled:!e.isLoggedIn,placeholder:e.placeholder},domProps:{value:e.txt},on:{input:function(t){t.target.composing||(e.txt=t.target.value)}}}),r("button",{staticClass:"send-btn",attrs:{disabled:!e.isLoggedIn}},[e._v(">")])])])])},gn=[],hn={data:function(){return{txt:"",isChat:!1}},computed:{msgs:function(){return this.$store.getters.chatMsgs},isLoggedIn:function(){var e=this.$store.getters.loggedUser;return e},placeholder:function(){return this.isLoggedIn?"Your message":"Must be logged in"},username:function(){return this.isLoggedIn?this.$store.getters.loggedUser.username:null}},methods:{sendMsg:function(){var e={txt:this.txt};this.$store.dispatch("sendMsg",e),this.txt="",this.$refs.myref.scrollTop=this.$refs.myref.scrollHeight},closeChat:function(){this.isChat=!1},openChat:function(){this.isChat=!this.isChat,this.$refs.myref.scrollTop=this.$refs.myref.scrollHeight}}},bn=hn,yn=(r("5797"),Object(j["a"])(bn,vn,gn,!1,null,"7ad3e036",null)),wn=yn.exports,_n={data:function(){return{isChat:!1,eventera:null,profileUserId:""}},created:function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(){var t,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this.$route.params.id,e.next=3,this.$store.dispatch({type:"getEventeraById",_id:t});case 3:r=e.sent,this.eventera=r,this.$store.dispatch({type:"joinEventeraChat",_id:t});case 6:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),destroyed:function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:t=this.$route.params.id,this.$store.dispatch({type:"leaveEventeraChat",_id:t}),this.profileUserId="";case 3:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),computed:{loggedUser:function(){return this.$store.getters.loggedUser},isLoading:function(){return this.$store.getters.isLoading},isOpen:function(){return Date.now()<this.eventera.expireAt&&this.eventera.members.length<this.eventera.maxMembers},userType:function(){var e=this.$store.getters.loggedUser,t=this.eventera;if(e){if(e._id===t.creator._id)return"creator";var r=t.members.find(function(t){return t._id===e._id});return r?"member":"user"}return"guest"},controlBtnTxt:function(){var e=this.userType;switch(e){case"creator":return"Edit";case"member":return"Leave";default:return this.isOpen?"Join":"Closed"}},profileUser:function(){return this.$store.getters.currUser},imgs:function(){var e=this.eventera.imgUrls.map(function(e){return e});while(e.length<3)e.push(e[0]);return e},creatorImg:function(){var e=this.eventera.creator.profileImgUrl;return e.includes("http")||(e="../"+e),e}},methods:{handleModalClose:function(){this.profileUserId=""},loadUserProfile:function(e){this.profileUserId=e,this.$store.dispatch({type:"loadCurrUser",id:this.profileUserId})},closeChat:function(){this.isChat=!1},openChat:function(){this.isChat=!this.isChat},eventeraControls:function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(){var t,r,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:t=this.userType,console.log(t),e.t0=t,e.next="guest"===e.t0?5:"creator"===e.t0?8:"member"===e.t0?11:"user"===e.t0?16:25;break;case 5:return _.$emit(y),f.err("Not logged in","Please login in order to join eventeras"),e.abrupt("break",25);case 8:return n="/eventera/edit/".concat(this.eventera._id),this.$router.push(n),e.abrupt("break",25);case 11:return e.next=13,this.$store.dispatch({type:"leaveEventera",_id:this.eventera._id});case 13:return r=e.sent,this.eventera=r,e.abrupt("break",25);case 16:if(!this.isOpen){e.next=22;break}return e.next=19,this.$store.dispatch({type:"joinEventera",_id:this.eventera._id});case 19:r=e.sent,e.next=23;break;case 22:f.err("This EventEra is closed","Please select another eventera to join");case 23:return this.eventera=r,e.abrupt("break",25);case 25:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),clap:function(e){if("creator"!==this.userType&&"member"!==this.userType)return f.err("Must be a member to clap","Join the event to clap on your teammates preformence");if(this.loggedUser._id===e)return f.warn("Cant clap  yourself","We know your awosme tough :)");this.$store.dispatch("clap",{eventeraId:this.eventera._id,userId:e});var t=this.eventera.members.find(function(t){return t._id===e});t.mvpVoteCount++}},components:{EventeraImages:cn,EventeraMap:fn,EventeraChat:wn,VueModal:$}},xn=_n,Cn=(r("e273"),Object(j["a"])(xn,Zr,en,!1,null,"7ee3a4a8",null)),jn=Cn.exports;n["default"].use(tt["a"]);var kn=new tt["a"]({mode:"history",base:"/",routes:[{path:"/",name:"home",component:Mt},{path:"/eventera/",name:"EventeraApp",component:Qr},{path:"/eventera/edit/:id?",name:"editEventera",component:qt},{path:"/eventera/:id",name:"EventeraDetails",component:jn},{path:"/about",name:"about",component:Nt},{path:"/user/",component:Wt,children:[{path:"/",component:rr},{path:"basics",component:rr},{path:"picture",component:cr},{path:"location",component:xr},{path:"eventera",component:Ur}]},{path:"/user/:id",component:Rr}]}),$n=r("0a63"),Un=r.n($n),En=r("ee98"),Ln=r.n(En),On=r("755e"),In=r("9483");Object(In["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});r("6b54");var Mn=r("c1df"),Rn=r.n(Mn);n["default"].filter("capitalize",function(e){return e=e.toString(),e.charAt(0).toUpperCase()+e.slice(1)+" "}),n["default"].filter("timeAgo",function(e){return Rn()(e).fromNow()}),n["default"].filter("meterToKM",function(e){var t=(e/1e3).toFixed(1);return t<1?" < 1km":t>50?" > 50km":"".concat(t," km away")}),n["default"].filter("imgSrc",function(e){return e?e.includes("https")?e:e.includes("http")?"https"+e.substring(4):"/"+e:""}),n["default"].use(r("2ead")),n["default"].config.productionTip=!1,n["default"].use(Un.a),n["default"].use(Ln.a),n["default"].use(On,{load:{key:dr,libraries:"places"},installComponents:!0}),new n["default"]({router:kn,store:pe,render:function(e){return e(et)}}).$mount("#app")},5797:function(e,t,r){"use strict";var n=r("f3e7"),a=r.n(n);a.a},6825:function(e,t,r){},"6d43":function(e,t,r){},"6d94":function(e,t,r){"use strict";var n=r("0528"),a=r.n(n);a.a},8069:function(e,t,r){"use strict";var n=r("a72e"),a=r.n(n);a.a},"888f":function(e,t,r){},"88f5":function(e,t,r){"use strict";var n=r("ba56"),a=r.n(n);a.a},8924:function(e,t,r){"use strict";var n=r("2c66"),a=r.n(n);a.a},"8ea5":function(e,t,r){},"9bc4":function(e,t,r){"use strict";var n=r("d4f0"),a=r.n(n);a.a},"9f35":function(e,t,r){},a72e:function(e,t,r){},ba56:function(e,t,r){},cde3:function(e,t,r){"use strict";var n=r("4a00"),a=r.n(n);a.a},d063:function(e,t,r){e.exports=r.p+"img/logo-trans.7595a4e0.png"},d3d1:function(e,t,r){},d4f0:function(e,t,r){},d931:function(e,t,r){e.exports=r.p+"img/Yarin.74331714.jpg"},e1b1:function(e,t,r){e.exports=r.p+"img/1.79835aac.jpg"},e273:function(e,t,r){"use strict";var n=r("20bf"),a=r.n(n);a.a},e3f7:function(e,t,r){"use strict";var n=r("413a6"),a=r.n(n);a.a},e629:function(e,t,r){"use strict";var n=r("888f"),a=r.n(n);a.a},ea60:function(e,t,r){"use strict";var n=r("3973"),a=r.n(n);a.a},f23d:function(e,t,r){e.exports=r.p+"img/clap-icon.bdb0de47.svg"},f3e7:function(e,t,r){},fa0d:function(e,t,r){},fcab:function(e,t,r){},fcac:function(e,t,r){}});
//# sourceMappingURL=app.32d51c0b.js.map